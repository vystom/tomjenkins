def COMPONENTS_LIST= "one, two, three"


pipeline {

    agent any
    stages {
        stage('Nastav vstup z pipeliny') {
            steps {
                script { 
                    properties([
                        parameters([
                            extendedChoice (description: 'Components', multiSelectDelimiter: ',', 
                            name: 'Components_To_Deploy', quoteValue: false, saveJSONParameterToFile: false, type: 'PT_MULTI_SELECT', 
                            value: "${COMPONENTS_LIST}", visibleItemCount: 3)
                            )
                        ])
                    ])
                }
            }
        }

        stage("Interactive_Input") {
            steps {
                script {

                    // Variables for input
                    def inputConfig
                    def inputTest

                    // Get the input
                    def userInput = input(
                            id: 'userInput', message: 'Enter path of test reports:?',
                            parameters: [

                                    string(defaultValue: 'None',
                                            description: 'Path of config file',
                                            name: 'Config'),
                                    string(defaultValue: 'None',
                                            description: 'Test Info file',
                                            name: 'Test'),
                            ])

                    // Save to variables. Default to empty string if not found.
                    inputConfig = userInput.Config?:''
                    inputTest = userInput.Test?:''

                    // Echo to console
                    echo("IQA Sheet Path: ${inputConfig}")
                    echo("Test Info file path: ${inputTest}")

                }
            }
        }


    }

}




/*

    message "Vyber soubory ke kopirovani"
                            ok 'Pokracuj'
def userInput = input(
                            id: 'userInput', message: 'Enter path of test reports:?',
                            parameters: [

                                    string(defaultValue: 'None',
                                            description: 'Path of config file',
                                            name: 'Config'),
*/