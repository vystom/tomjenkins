pipeline {
    agent any
    stages {
        stage('Example') {
            input {
                message "Vyber soubory ke kopirovani"
                ok 'Pokracuj'
                parameters {
                    extendedChoice(
                                name: 'vstupni_seznam', 
                                defaultValue: 'Build & Deploy', 
                                multiSelectDelimiter: ',', 
                                quoteValue: false, 
                                saveJSONParameterToFile: false, 
                                type: 'PT_MULTI_SELECT',
                                value:'soubor1, soubor2, soubor3, soubor4',
                                visibleItemCount: 3,
                                description: 'Soubory PZ02 ke skopirovani'
                            )
                }
            }
            steps {
                echo "Tvoje soubory ${vstupni_seznam}"
                script {
                    vstupni_seznam.eachLine { println "$it" }
                    //[vstupni_seznam].eachLine { println "$it" }
                    [vstupni_seznam].each { print "$it" }
                    
                    print params.vstupni_seznam
               
                    //string(name: 'vstupni_seznam', value: "${params.vstupni_seznam}")
                    def testParamValues = "${params.vstupni_seznam}".split(',')
                    /*
                    testParamValues.each { testParamValue ->
                        print testParamValue.trim()
                    }
                    [testParamValues].each { print "$it" }
                    */
                    
                 def employee = ["Ken", "John", "Sally"]
		               for(emp in employee) {
                            	 println(emp);
                       	       }
                    
                    
                }
            }
        }
    }
}
