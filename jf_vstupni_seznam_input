                    def vstup = sh(script: 'cd /home/tomino/; ls -m SB*', returnStdout: true)
                    //println vstup


pipeline {
    agent any
    stages {
        stage('Nacteni souboru') {
            steps {
                script {
                    /*
                    def vstup
                    sh " 'uname' > prikaz "
                    vstup = readFile('prikaz').trim()
                    sh "export vstup $vstup"
                    */
                    //def vstup = sh(script: 'cd /home/tomino/; ls -m SB*', returnStdout: true)
                    //println vstup

                    //vstup=sh "cd /home/tomino; pwd; ls -m SB*" 
                    echo "Kde jsem $vstup"
                    sh "pwd; hostname; users"
                    //prihlasit se pres klic na server pod sbserv
                    //nize uveden asi do solo skriptu prel nebo bash
                    //sh "cd /home/tomino; pwd; vstup=`ls -m SB*`"
                    //sh "ls --format=commas /home/tomino/SB*"
                    //sh "ls -m /home/tomino/SB*"
                    //sh "vstup=`ls --format=commas $maska`"
                
                    
                 echo "vstup je : $vstup"
                }
            }

        
        }

        stage('Vyber souboru souboru') {
            input {
                message "Vyber soubory ke kopirovani"
                ok 'Pokracuj'
                parameters {
                    extendedChoice(
                                name: 'vstupni_seznam', 
                                defaultValue: 'Build & Deploy', 
                                multiSelectDelimiter: ',', 
                                quoteValue: false, 
                                saveJSONParameterToFile: false, 
                                type: 'PT_MULTI_SELECT',
                                //value:'soubor1, soubor2, soubor3, soubor4',
                                value:"${vstup}",
                                visibleItemCount: 10,
                                description: 'Soubory PZ02 ke skopirovani'
                            )
                }
            }
            steps {
                echo "Tvoje soubory ${vstupni_seznam}"
                println vstup
                script {
                    vstupni_seznam.eachLine { println "$it" }
                    //[vstupni_seznam].eachLine { println "$it" }
                    //[vstupni_seznam].each { print "$it" }
                   
		            def seznam = []
		            //str = vstupni_seznam.split(',')
      		        for( String hodnoty : vstupni_seznam.split(',')  )
                    seznam << hodnoty
		   
		            println "velikost seznamu je "+seznam.size()
		            println "seznam0 = " + seznam[0]
		            println "seznam2 = " + seznam[2]
		            println "cely seznam = " + seznam
                
		  	        for (i = 0; i <seznam.size(); i++) {
   				        println "Soubor[$i]= "+seznam[i]
		            }
                }    
            }
        }
    }
}

currentBuild.displayName = "  ${env.BUILD_ID} -  ${currentBuild.currentResult} "