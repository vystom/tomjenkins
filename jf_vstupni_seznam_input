pipeline {
    agent any
    stages {
        stage('Example') {
            input {
                message "Vyber soubory ke kopirovani"
                ok 'Pokracuj'
                parameters {
                    extendedChoice(
                                name: 'vstupni_seznam', 
                                defaultValue: 'Build & Deploy', 
                                multiSelectDelimiter: ',', 
                                quoteValue: false, 
                                saveJSONParameterToFile: false, 
                                type: 'PT_MULTI_SELECT',
                                value:'soubor1, soubor2, soubor3, soubor4',
                                visibleItemCount: 3,
                                description: 'Soubory PZ02 ke skopirovani'
                            )
                }
            }
            steps {
                echo "Tvoje soubory ${vstupni_seznam}"
                script {
                    vstupni_seznam.eachLine { println "$it" }
                    //[vstupni_seznam].eachLine { println "$it" }
                    [vstupni_seznam].each { print "$it" }
                    
                    print params.vstupni_seznam
               
                    //string(name: 'vstupni_seznam', value: "${params.vstupni_seznam}")
                    def testParamValues = "${params.vstupni_seznam}".split(',')
                    /*
                    testParamValues.each { testParamValue ->
                        print testParamValue.trim()
                    }
                    [testParamValues].each { print "$it" }
                    */
		    
		    def seznam = []
		    seznam << "s0"
		    seznam << "s1"
		    seznam << "s2"
		    
		    println "velikost seznamu je "+seznam.size()
		    println "seznam0 = " + seznam[0]
		    println "seznam2 = " + seznam[2]
		    printl "cely seznam = " + seznam
                    
                 employee = ["Ken", "John", "Sally"]
		 //employee = [$vstupni_seznam]
		     for(emp in employee) {
                     	 println(emp);
                     }
                  /*
		  print "vdyp seznam"
		   seznam[]=$vstupni_seznam
		   println seznam[1]
		   println "Vstupni seznam=$vstupni_seznam" 
		   
		   str = vstupni_seznam.split(',')
      		   for( String hodnoty : str )
		   	println(hodnoty)
			println hodnoty[1]
			
			for (i = 0; i <componentList.size(); i++) {
   				 println componentList[i]
			}
			
		  */
                   
                }
            }
        }
    }
}
